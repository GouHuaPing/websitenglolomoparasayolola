<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Love Letter</title>
  <style>
    :root{--bg:#0f1724;--paper:#fffef9;--accent:#ff6b81;--muted:#6b7280;--gold:#ffd88a}
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;background:radial-gradient(900px 400px at 10% 10%,#10203a 0%,rgba(16,32,58,0) 30%),radial-gradient(800px 350px at 90% 90%,#201422 0%,rgba(32,20,34,0) 28%),var(--bg);color:#111827;display:flex;align-items:center;justify-content:center;padding:2rem}
    .stage{width:100%;max-width:760px;perspective:900px}
    .envelope{width:92%;max-width:640px;margin:0 auto;position:relative;transform-style:preserve-3d;transition:transform 700ms cubic-bezier(.2,.9,.3,1)}
    .envelope .back,.envelope .flap,.letter{position:relative;width:100%;border-radius:12px;box-shadow:0 8px 26px rgba(2,6,23,0.5);overflow:hidden;transform-origin:top center;background:linear-gradient(180deg,#fdeed9 0%,#fffefc 50%)}
    .back{padding:1.6rem 1.8rem;display:flex;align-items:flex-end;justify-content:center;height:220px}
    .seal{position:absolute;top:50%;left:50%;transform:translate(-50%,-60%);width:96px;height:96px;border-radius:999px;background:radial-gradient(circle at 35% 30%,#ffb4c4,#ff6b81 50%);display:flex;align-items:center;justify-content:center;box-shadow:0 10px 30px rgba(255,100,130,0.12),inset 0 -6px 14px rgba(0,0,0,0.06)}
    .seal:after{content:"♥";font-size:32px;color:white;filter:drop-shadow(0 3px 6px rgba(0,0,0,0.18))}
    .flap{position:absolute;top:0;left:0;height:200px;transform-origin:top center;background:linear-gradient(180deg,#ffeef2 0%,#fff 60%);border-bottom-left-radius:120px 60px;border-bottom-right-radius:120px 60px;display:flex;align-items:flex-start;justify-content:center;padding-top:34px;z-index:6;transition:transform 700ms cubic-bezier(.2,.9,.3,1)}
    .flap .stamp{position:absolute;top:18px;right:20px;width:64px;height:44px;border-radius:6px;background:linear-gradient(180deg,#fff 0%,#ffe9ec 100%);display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--accent);box-shadow:0 6px 12px rgba(0,0,0,0.12);transform:rotate(-10deg)}
    .letter{position:relative;padding:20px 22px;margin-top:36px;background:linear-gradient(180deg,var(--paper) 0%,#fff 100%);border-radius:8px;transform:translateY(18px) rotateX(6deg);box-shadow:0 18px 50px rgba(4,8,20,0.35);transition:transform 700ms cubic-bezier(.2,.9,.3,1),opacity 250ms;opacity:0}
    .letter.open{transform:translateY(-18px) rotateX(0deg);opacity:1;z-index:8}
    .letter h1{font-size:20px;margin:0 0 10px 0;color:#2b2b2b;letter-spacing:0.4px}
    .letter p{color:#33343a;line-height:1.6;margin:10px 0;font-size:15px}
    .controls{display:flex;gap:10px;justify-content:center;margin-top:16px}
    .btn{background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.01));border:0;padding:12px 16px;border-radius:999px;cursor:pointer;font-weight:700;color:var(--gold);backdrop-filter:blur(6px);transition:transform 180ms ease,box-shadow 180ms ease;box-shadow:0 6px 18px rgba(0,0,0,0.28)}
    .btn:active{transform:translateY(2px)}
    .small{font-size:13px;color:var(--muted)}
    .hearts{position:absolute;inset:0;pointer-events:none;z-index:20}
    .heart{position:absolute;width:18px;height:18px;transform:translate(-50%,-50%) scale(0.9) rotate(-20deg);opacity:0;animation:rise 2600ms linear infinite}
    .heart:before,.heart:after{content:'';position:absolute;width:100%;height:100%;background:var(--accent);border-radius:50px 50px 0 0;transform-origin:center bottom}
    .heart:before{transform:translateX(50%) rotate(45deg)}.heart:after{transform:translateX(-50%) rotate(-45deg)}
    @keyframes rise{0%{transform:translate(-50%,40vh) scale(0.6);opacity:0}10%{opacity:1}100%{transform:translate(-50%,-40vh) scale(1);opacity:0}}
    .envelope.open .flap{transform:rotateX(-180deg)}.envelope.open .back{transform:translateY(32px)}
    /* Responsive tweaks */
    @media (max-width:520px){body{padding:1rem}.back{height:180px}.flap{height:160px;padding-top:18px}.letter{margin-top:28px;padding:16px 18px}.letter h1{font-size:18px}.controls{gap:8px}.btn{padding:12px 14px;font-size:15px}}
  </style>
</head>
<body>
  <div class="stage">
    <div class="envelope" id="env">
      <div class="flap">
        <div class="stamp">From Lolo mo❤️</div>
      </div>

      <div class="back">
        <div class="seal" aria-hidden="true"></div>
      </div>

      <div class="letter" id="letter" role="article" aria-label="Love letter">
        <h1 id="title">To the one I cherish</h1>
        <div id="content">
          <p>My dearest —</p>
          <p>Every day with you becomes a favorite memory. When I close my eyes I find comfort in the sound of your voice and in the way your laughter fills the room. You are my calm and my brightest adventure.</p>
          <p>With all that I am, and all that I hope to be — I love you.</p>
          <p class="small">— Yours, always</p>
        </div>
      </div>
    </div>

    <div class="controls">
      <button class="btn" id="openBtn">Open Letter</button>
      <button class="btn" id="sealBtn">Seal / Reset</button>
    </div>

    <div class="hearts" id="hearts" aria-hidden="true"></div>
  </div>

    <script>
      (function(){
        const env = document.getElementById('env');
        const letter = document.getElementById('letter');
        const openBtn = document.getElementById('openBtn');
        const sealBtn = document.getElementById('sealBtn');
        const hearts = document.getElementById('hearts');

        if(!env || !letter || !openBtn || !sealBtn || !hearts) return;

        function toggleOpen(){
          const opened = env.classList.toggle('open');
          if(opened){
            setTimeout(()=>letter.classList.add('open'),420);
            openBtn.textContent = 'Close Letter';
            createHearts();
          } else {
            letter.classList.remove('open');
            openBtn.textContent = 'Open Letter';
            clearHearts();
          }
        }

        function resetSeal(){
          env.classList.remove('open');
          letter.classList.remove('open');
          openBtn.textContent = 'Open Letter';
          clearHearts();
        }

        openBtn.addEventListener('click', toggleOpen);
        sealBtn.addEventListener('click', resetSeal);

        function rand(min,max){return Math.random()*(max-min)+min}

        let heartInterval;
        function createHearts(){
          clearHearts();
          for(let i=0;i<10;i++){
            const h = document.createElement('div');
            h.className='heart';
            h.style.left = rand(20,80)+'%';
            h.style.top = rand(40,85)+'%';
            h.style.animationDelay = rand(0,800)+'ms';
            h.style.transform = `translate(-50%,40vh) scale(${rand(0.6,1)})`;
            h.style.opacity = 0;
            hearts.appendChild(h);
          }
          heartInterval = setInterval(()=>{
            const h = document.createElement('div');
            h.className='heart';
            h.style.left = rand(20,80)+'%';
            h.style.top = rand(40,85)+'%';
            h.style.animationDelay = '0ms';
            hearts.appendChild(h);
            const all = hearts.querySelectorAll('.heart');
            if(all.length>30) all[0].remove();
          },800);
        }

        function clearHearts(){clearInterval(heartInterval);hearts.innerHTML=''}

        openBtn.addEventListener('keyup',e=>{if(e.key==='Enter')toggleOpen()});
        sealBtn.addEventListener('keyup',e=>{if(e.key==='Enter')resetSeal()});

        document.addEventListener('DOMContentLoaded',()=>{
          env.style.transform='rotateX(4deg)';
          setTimeout(()=>env.style.transform='rotateX(0deg)',700);
        });
      })();
    </script>
</body>
</html>